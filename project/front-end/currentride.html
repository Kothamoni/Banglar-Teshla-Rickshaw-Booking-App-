// Fetch current ride request assigned to driver
    async function fetchCurrentRide() {
      try {
        console.log("Stored email:", localStorage.getItem('email'));

        console.log('Fetching current ride...');
        const res = await fetch(`${API_BASE}/driver/current-ride`, {
          headers: { 'Authorization': `Bearer ${token}` }
        });
        if (!res.ok) {
          const errorText = await res.text();
          throw new Error(`Failed to fetch current ride: ${res.status} ${errorText}`);
        }
        const ride = await res.json();
        console.log('Current ride data:', ride);

        if (ride) {
          document.getElementById('passengerName').innerText = ride.passengerName || 'N/A';
          document.getElementById('pickupLocation').innerText = ride.pickup || 'N/A';
          document.getElementById('dropoffLocation').innerText = ride.dropoff || 'N/A';
          document.getElementById('fareBid').innerText = ride.fare || 'N/A';
          document.getElementById('acceptBtn').disabled = false;
        } else {
          document.getElementById('currentRide').innerHTML = '<p>No active ride requests.</p>';
          document.getElementById('acceptBtn').disabled = true;
        }
      } catch (error) {
        console.error(error);
        document.getElementById('currentRide').innerHTML = '<p>Error loading current ride info.</p>';
        document.getElementById('acceptBtn').disabled = true;
      }
    }
// Accept ride button
    const acceptBtn = document.getElementById('acceptBtn');
    const journeySection = document.getElementById('journeyControl');
    acceptBtn.addEventListener('click', async () => {
      try {
        console.log('Accepting ride...');
        const res = await fetch(`${API_BASE}/driver/accept-ride`, {
          method: 'POST',
          headers: { 'Authorization': `Bearer ${token}` }
        });
        if (!res.ok) {
          const errorText = await res.text();
          throw new Error(`Failed to accept ride: ${res.status} ${errorText}`);
        }

        journeySection.classList.remove('hidden');
        acceptBtn.disabled = true;
        acceptBtn.innerText = 'Ride Accepted';
        acceptBtn.classList.add('bg-gray-400', 'cursor-not-allowed');
        console.log('Ride accepted');
      } catch (error) {
        console.error(error);
        alert('Error accepting ride. See console for details.');
      }
    });
     <!-- Case Section (Single Active Ride) -->
    <section class="bg-white shadow-md rounded p-6">
      <h2 class="text-xl font-semibold text-green-600 mb-4">ðŸ“¦ Current Case: Ride Request</h2>

      <div id="currentRide" class="border border-gray-300 rounded p-4 mb-4">
        <p><strong>Passenger:</strong> <span id="passengerName">Loading...</span></p>
        <p><strong>Pickup:</strong> <span id="pickupLocation">Loading...</span></p>
        <p><strong>Drop-off:</strong> <span id="dropoffLocation">Loading...</span></p>
        <p><strong>Fare Bid:</strong> à§³<span id="fareBid">Loading...</span></p>
        <button id="acceptBtn" disabled class="mt-3 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
          Accept Ride
        </button>
      </div>

      <!-- Journey Controls (Initially hidden) -->
      <div id="journeyControl" class="space-y-4 hidden">
        <div class="text-center">
          <button id="startJourneyBtn" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
            Start Journey
          </button>
        </div>

        <div class="border border-gray-300 p-4 rounded">
          <h4 class="font-semibold mb-2">Stop Ride with OTP</h4>
          <p class="text-sm text-gray-600">An OTP has been sent to the passenger.</p>
          <input type="text" id="otpInput" placeholder="Enter OTP"
                 class="mt-2 w-full border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" />
          <button id="verifyOtpBtn" class="mt-3 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
            Verify OTP & Stop Ride
          </button>
        </div>
      </div>
    </section>